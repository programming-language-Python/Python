{% extends 'layout/basic.html' %}
{% block title %}Добавление объявления{% endblock %}

{% block content %}
    <h2>Добавление объявления</h2>
    <form method="POST" action="">
        {% csrf_token %}
        {{ form.as_p }}
        <input type="submit" value='Добавить'>
    </form>
{% endblock %}
<!-- Был таким
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta http-equiv="Content-Type"
    content="text/html" charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Добавление объявления - Доска объявлений</title>
</head>
<body>
    <h1>Добавление объявления</h1>
    <h2>Рубрика: {{ current_rubric.name }}</h2>
    <div>
        <a href="{% url 'index' %}">Главная</a>
        <a href="{% url 'add' %}" >Добавить</a>
        {% for rubric in rubrics %}
        <a href="{% url 'by_rubric' rubric.pk %}">{{ rubric.name }}</a>
        {% endfor %}    
    </div>

Здесь нас интересует только код, создающий веб-форму. Обратим внимание на
четыре важных момента:
o форма в контексте шаблона хранится в переменной form. Эту переменную создает
базовый класс CreateView;
o для вывода формы, чьи элементы управления находятся на отдельных абзацах,
применяется метод as_p() класса ModelForm;
o метод as_p() генерирует только код, создающий элементы управления. Тег
<form>, необходимый для создания самой формы, и тег <input>, формирующий
кнопку отправки данных, нам придется вставить самостоятельно.
o В теге <form> мы указали метод отправки данных POST, но не записали интернет-
адрес, по которому будут отправлены занесенные в форму данные. В этом
случае данные будут отправлены по тому же интернет-адресу, с которого была
загружена текущая страница, т.е. в нашем случае, тому же контроллеру-классу
BdcreateView, который благополучно обработает и сохранит их;
o в теге <form> мы поместили тег шаблонизатора csrf_token. Он создает в форме
скрытое поле, хранящее цифровой жетон, получив который, контроллер «поймет
», что данные бьши отправлены с текущего сайта, и им можно доверять. Это
часть подсистемы обеспечения безопасности Django.

    <form method="post" action="">
        {% csrf_token %}
        {{ form.as_p }}
        <input type="submit" value="Добавить">
    </form>
</body>
</html>
-->